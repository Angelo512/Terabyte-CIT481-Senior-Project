## **Project 1**

### VPC with load balancer Diagram
![vpc w_load balancer diagram](https://user-images.githubusercontent.com/69828773/115308586-cb315c80-a11f-11eb-9532-7eba8b0ab082.png)

- Create Web server instances in private subnets
- Set NAT gateway in public subnet and create a route table to associate to private subnets
- Create a bastion host in public subet in order to access to instances in private subnet
- Set up Elastic load balancer to associate all availability zone


### Run Terraform
- Create a directory, for example named "Terraform"
- Move to the direcroty
    ```
    $ cd Terraform/
    ```  
- Run this command
    ```
    $ terraform init   
    ```   
    This is to initialize the working directory containing Terraform configuration files.
- Create tf files as much as you need (on VScode)
    ```
    $ code [filename].tf
    ```
- Once you create tf file(s), run this command 
    ```
    $ terraform plan
    ```
    `plan` command is used to create an execution plan.  
    ** The optional -out argument can be used to save the generated plan to a file for later execution with terraform apply, which can be useful when running Terraform in automation.  
- Next 
    ```
    $ terraform apply
    ```
    `apply` command is used to apply the changes required to reach the desired state of the configuration, or the pre-determined set of actions generated by a `terraform plan` execution plan.


### To use for AWS
`Terraform` can be used for many different cloud service.  
It needs spcify (cloud )provider in terraform file, like this
```
provider "aws" {
  profile = "default"
  region  = "us-west-2"
}
```
`profile` is AWS credential, if you have more than one account information in your AWS credential file, you need to specify which account you want to run the tf files for.   
I set [default] for my team share account, but if I want to run terraform files for my personal account, [cit480_keiyamo], I need to set `profile = "cit480_keiyamo"  
![credential](https://user-images.githubusercontent.com/69828773/115662048-4434dd80-a2f3-11eb-9e27-215352271303.png)  

When you apply more than one tf file for same account in same region, only one file needs to have the `provider resourse`